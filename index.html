<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVCraft Pro - Professional CV Builder</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'><stop offset='0%25' style='stop-color:%23f39c12;stop-opacity:1' /><stop offset='100%25' style='stop-color:%23e67e22;stop-opacity:1' /></linearGradient></defs><circle cx='50' cy='50' r='45' fill='url(%23grad)'/><text x='50' y='60' font-family='Arial,sans-serif' font-size='32' font-weight='900' fill='white' text-anchor='middle'>CV</text></svg>" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            transition: all 0.3s ease;
            letter-spacing: -0.01em;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        body.dark-mode .container {
            background: #2c2c54;
            color: #e0e0e0;
        }

        body.dark-mode .form-section {
            background: #40407a;
            border-right: 1px solid #706fd3;
        }

        body.dark-mode .form-group label {
            color: #e0e0e0;
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea {
            background: #2c2c54;
            border: 2px solid #706fd3;
            color: #e0e0e0;
        }

        body.dark-mode .form-group input:focus,
        body.dark-mode .form-group textarea:focus {
            border-color: #3742fa;
            box-shadow: 0 0 0 3px rgba(55, 66, 250, 0.1);
        }

        body.dark-mode .template-btn {
            background: #2c2c54;
            border: 2px solid #706fd3;
            color: #e0e0e0;
        }

        body.dark-mode .template-btn.active,
        body.dark-mode .template-btn:hover {
            background: #3742fa;
            border-color: #3742fa;
        }

        /* Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .navbar-brand .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.4);
            position: relative;
            overflow: hidden;
            font-weight: 900;
            font-size: 18px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .navbar-brand .logo-icon::before {
            content: 'CV';
            font-family: 'Inter', sans-serif;
            font-weight: 900;
            font-size: 14px;
            letter-spacing: -1px;
        }
        
        .navbar-brand:hover .logo-icon {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .navbar-nav {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .nav-link.active {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }

        .user-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-width: 200px;
            display: none;
            overflow: hidden;
        }

        body.dark-mode .user-dropdown {
            background: #2c2c54;
            border: 1px solid #706fd3;
        }

        .user-dropdown a {
            display: block;
            padding: 12px 20px;
            color: #2c3e50;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid #f8f9fa;
        }

        body.dark-mode .user-dropdown a {
            color: #e0e0e0;
            border-bottom: 1px solid #40407a;
        }

        .user-dropdown a:hover {
            background: #f8f9fa;
            padding-left: 25px;
        }

        body.dark-mode .user-dropdown a:hover {
            background: #40407a;
        }

        .user-dropdown a:last-child {
            border-bottom: none;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50px;
            padding: 8px 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        /* Auth Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: scale(0.9);
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        body.dark-mode .modal {
            background: #2c2c54;
            color: #e0e0e0;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        body.dark-mode .modal-header h2 {
            color: #e0e0e0;
        }

        .modal-header p {
            color: #666;
            font-size: 0.95rem;
        }

        body.dark-mode .modal-header p {
            color: #bbb;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
        }

        body.dark-mode .auth-tabs {
            background: #40407a;
        }

        .auth-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #666;
        }

        body.dark-mode .auth-tab {
            color: #bbb;
        }

        .auth-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        body.dark-mode .auth-tab.active {
            background: #2c2c54;
            color: #e0e0e0;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #999;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            color: #e74c3c;
            transform: scale(1.1);
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            padding-top: 80px;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .dashboard-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        body.dark-mode .dashboard-card {
            background: #2c2c54;
            color: #e0e0e0;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .dashboard-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .dashboard-card h3 {
            color: #e0e0e0;
        }

        .dashboard-card i {
            color: #3498db;
            font-size: 1.5rem;
        }

        .cv-history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        body.dark-mode .cv-history-item {
            background: #40407a;
        }

        .cv-history-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        body.dark-mode .cv-history-item:hover {
            background: #706fd3;
        }

        .payment-history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-left: 4px solid #27ae60;
            background: #f8f9fa;
            border-radius: 0 10px 10px 0;
            margin-bottom: 10px;
        }

        body.dark-mode .payment-history-item {
            background: #40407a;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        body.dark-mode .status-success {
            background: #27ae60;
            color: white;
        }

        body.dark-mode .status-pending {
            background: #f39c12;
            color: white;
        }

        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(52, 152, 219, 0.4);
            transition: all 0.3s ease;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(52, 152, 219, 0.6);
        }

        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 400px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        body.dark-mode .chatbot-window {
            background: #2c2c54;
            color: #e0e0e0;
        }

        .chatbot-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px;
            font-weight: 600;
            text-align: center;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chatbot-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            word-wrap: break-word;
        }

        .chatbot-message.user {
            background: #3498db;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .chatbot-message.bot {
            background: #ecf0f1;
            color: #2c3e50;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        body.dark-mode .chatbot-message.bot {
            background: #40407a;
            color: #e0e0e0;
        }

        .chatbot-input-container {
            padding: 15px;
            border-top: 1px solid #ecf0f1;
            display: flex;
            gap: 10px;
        }

        body.dark-mode .chatbot-input-container {
            border-top: 1px solid #706fd3;
        }

        .chatbot-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }

        body.dark-mode .chatbot-input {
            background: #40407a;
            border: 1px solid #706fd3;
            color: #e0e0e0;
        }

        .chatbot-send {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-top: 80px;
            display: none;
        }

        .container.active {
            display: block;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-50px) translateY(-50px); }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-bottom: 20px;
        }

        .header-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            display: block;
            color: #ecf0f1;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            min-height: 800px;
        }

        .form-section {
            padding: 40px;
            background: #f8f9fa;
            border-right: 1px solid #e9ecef;
        }

        .preview-section {
            padding: 40px;
            background: white;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .template-selector {
            margin-bottom: 30px;
        }

        .template-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .template-btn {
            padding: 12px 20px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .template-btn.active,
        .template-btn:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .download-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(46, 204, 113, 0.3);
        }

        .cv-preview {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            min-height: 600px;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Classic Template */
        .template-classic {
            padding: 40px;
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
            color: #333;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .template-classic .cv-header {
            text-align: center;
            border-bottom: 2px solid #333;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .template-classic .cv-name {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .template-classic .cv-contact {
            font-size: 1rem;
            color: #666;
        }

        .template-classic .cv-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            display: block;
            border: 3px solid #2c3e50;
        }

        .template-classic .cv-section {
            margin-bottom: 25px;
        }

        .template-classic .cv-section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }

        /* Modern Template */
        .template-modern {
            padding: 0;
            font-family: 'Arial', sans-serif;
            display: grid;
            grid-template-columns: 1fr 2fr;
            min-height: 600px;
        }

        .template-modern .cv-sidebar {
            background: #2c3e50;
            color: white;
            padding: 40px 30px;
        }

        .template-modern .cv-main {
            padding: 40px;
            background: white;
        }

        .template-modern .cv-name {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 20px;
            text-align: center;
        }

        .template-modern .cv-contact {
            font-size: 0.9rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .template-modern .cv-section-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #3498db;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .template-modern .cv-sidebar .cv-section-title {
            color: #ecf0f1;
        }

        .template-modern .cv-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            display: block;
            border: 3px solid #3498db;
        }

        /* Creative Template */
        .template-creative {
            padding: 0;
            font-family: 'Helvetica', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .template-creative::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transform: translate(50%, -50%);
        }

        .template-creative .cv-content {
            padding: 40px;
            position: relative;
            z-index: 1;
        }

        .template-creative .cv-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .template-creative .cv-name {
            font-size: 2rem;
            font-weight: 100;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .template-creative .cv-contact {
            font-size: 1rem;
            opacity: 0.9;
        }

        .template-creative .cv-section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-left: 4px solid white;
            padding-left: 15px;
        }

        .template-creative .cv-section {
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .template-creative .cv-photo {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 20px;
            display: block;
            border: 4px solid rgba(255,255,255,0.8);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        /* Professional Template */
        .template-professional {
            padding: 0;
            font-family: 'Georgia', serif;
            background: #f8f9fa;
            border-left: 8px solid #2c3e50;
        }

        .template-professional .cv-header {
            background: #2c3e50;
            color: white;
            padding: 40px;
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .template-professional .cv-photo {
            width: 120px;
            height: 120px;
            border-radius: 10px;
            object-fit: cover;
            border: 4px solid white;
            flex-shrink: 0;
        }

        .template-professional .cv-header-text {
            flex: 1;
        }

        .template-professional .cv-name {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: white;
        }

        .template-professional .cv-contact {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .template-professional .cv-body {
            padding: 40px;
        }

        .template-professional .cv-section {
            margin-bottom: 35px;
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .template-professional .cv-section-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        /* Premium Template */
        .template-premium {
            padding: 0;
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #2c3e50;
            position: relative;
            overflow: hidden;
        }

        .template-premium::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(155, 89, 182, 0.1));
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        .template-premium::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(52, 152, 219, 0.1));
            border-radius: 50%;
            transform: translate(-30%, 30%);
        }

        .template-premium .cv-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 50px 40px;
            position: relative;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
            margin-bottom: 30px;
        }

        .template-premium .cv-header::before {
            content: '';
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 50%;
        }

        .template-premium .cv-photo {
            width: 120px;
            height: 120px;
            border-radius: 15px;
            object-fit: cover;
            border: 4px solid white;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            margin: 0 auto 25px;
            display: block;
            position: relative;
            z-index: 2;
        }

        .template-premium .cv-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            letter-spacing: 1px;
        }

        .template-premium .cv-contact {
            font-size: 1.1rem;
            text-align: center;
            opacity: 0.95;
            line-height: 1.6;
        }

        .template-premium .cv-body {
            padding: 0 40px 40px;
            position: relative;
            z-index: 1;
        }

        .template-premium .cv-section {
            background: white;
            margin-bottom: 25px;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid #3498db;
            position: relative;
            overflow: hidden;
        }

        .template-premium .cv-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(155, 89, 182, 0.1));
            border-radius: 0 15px 0 50px;
        }

        .template-premium .cv-section-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            padding-bottom: 10px;
        }

        .template-premium .cv-section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            border-radius: 2px;
        }

        .template-premium .cv-section-content {
            color: #34495e;
            line-height: 1.7;
            font-size: 1rem;
        }

        /* Executive Template */
        .template-executive {
            padding: 0;
            font-family: 'Georgia', serif;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
        }

        .template-executive .cv-header {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
        }

        .template-executive .cv-header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 20px solid #1a1a2e;
        }

        .template-executive .cv-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .template-executive .cv-contact {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .template-executive .cv-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 25px;
            display: block;
            border: 5px solid rgba(255,255,255,0.8);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .template-executive .cv-body {
            padding: 60px 40px 40px;
        }

        .template-executive .cv-section {
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .template-executive .cv-section-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1a1a2e;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Traditional Template */
        .template-traditional {
            padding: 40px;
            font-family: 'Georgia', serif;
            background: white;
            color: #2c3e50;
            line-height: 1.6;
            border: 1px solid #bdc3c7;
        }

        .template-traditional .cv-header {
            text-align: center;
            border-bottom: 3px double #2c3e50;
            padding-bottom: 25px;
            margin-bottom: 30px;
        }

        .template-traditional .cv-photo {
            width: 100px;
            height: 100px;
            border-radius: 5px;
            object-fit: cover;
            border: 2px solid #2c3e50;
            margin: 0 auto 20px;
            display: block;
        }

        .template-traditional .cv-name {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .template-traditional .cv-contact {
            font-size: 1rem;
            color: #34495e;
            line-height: 1.5;
            font-style: italic;
        }

        .template-traditional .cv-section {
            margin-bottom: 25px;
        }

        .template-traditional .cv-section-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #bdc3c7;
            padding-bottom: 5px;
        }

        .template-traditional .cv-section-content {
            color: #2c3e50;
            line-height: 1.6;
            text-align: justify;
        }

        /* ATS Optimized Template */
        .template-ats {
            padding: 40px;
            font-family: 'Arial', sans-serif;
            background: white;
            color: #000;
            line-height: 1.5;
            font-size: 11pt;
        }

        .template-ats .cv-header {
            text-align: left;
            border-bottom: 2px solid #000;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .template-ats .cv-name {
            font-size: 16pt;
            font-weight: bold;
            margin-bottom: 8px;
            color: #000;
            text-transform: uppercase;
        }

        .template-ats .cv-contact {
            font-size: 10pt;
            color: #000;
            line-height: 1.4;
        }

        .template-ats .cv-photo {
            display: none; /* ATS systems prefer no photos */
        }

        .template-ats .cv-section {
            margin-bottom: 20px;
        }

        .template-ats .cv-section-title {
            font-size: 12pt;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
            text-transform: uppercase;
            border-bottom: 1px solid #000;
            padding-bottom: 3px;
        }

        .template-ats .cv-section-content {
            font-size: 11pt;
            color: #000;
            line-height: 1.4;
        }

        .template-ats ul {
            margin: 0;
            padding-left: 20px;
        }

        .template-ats li {
            margin-bottom: 3px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .template-modern {
                grid-template-columns: 1fr;
            }
            
            .template-modern .cv-sidebar {
                order: 2;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .form-section,
            .preview-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-content">
            <a href="#" class="navbar-brand" onclick="showHome()">
                <div class="logo-icon"></div>
                <span style="font-weight: 700; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">CVCraft Pro</span>
            </a>
            <div class="navbar-nav">
                <a href="#" class="nav-link" onclick="showHome()">Home</a>
                <a href="#" class="nav-link" onclick="showFeatures()">Features</a>
                <div class="user-menu" id="userMenu" style="display: none;">
                    <div class="user-avatar" onclick="toggleUserMenu()" id="userAvatar">JD</div>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" onclick="showDashboard()"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        <a href="#" onclick="showProfile()"><i class="fas fa-user"></i> Profile</a>
                        <a href="#" onclick="showSettings()"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
                <div id="authButtons">
                    <a href="#" class="nav-link" onclick="showAuthModal('login')">Login</a>
                    <a href="#" class="nav-link" onclick="showAuthModal('signup')">Sign Up</a>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™</button>
            </div>
        </div>
    </nav>

    <!-- Authentication Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal">
            <button class="close-modal" onclick="closeAuthModal()">&times;</button>
            <div class="modal-header">
                <h2 id="modalTitle">Welcome to CVCraft Pro</h2>
                <p id="modalSubtitle">Create professional CVs in minutes</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('login')">Login</div>
                <div class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</div>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>
                <div style="text-align: right; margin-bottom: 20px;">
                    <a href="#" onclick="showForgotPassword()" style="color: #3498db; text-decoration: none; font-size: 0.9rem;">Forgot Password?</a>
                </div>
                <button type="submit" class="download-btn" onclick="handleLogin(event)">
                    <i class="fas fa-sign-in-alt"></i> Login to Account
                </button>
                
                <div style="margin: 20px 0; text-align: center; position: relative;">
                    <div style="border-top: 1px solid #ddd; margin: 20px 0;"></div>
                    <span style="background: white; padding: 0 15px; color: #666; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);">or continue with</span>
                </div>
                
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <button type="button" onclick="loginWithGoogle()" style="flex: 1; padding: 12px; background: #db4437; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-google"></i> Google
                    </button>
                    <button type="button" onclick="loginWithFacebook()" style="flex: 1; padding: 12px; background: #4267B2; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-facebook-f"></i> Facebook
                    </button>
                </div>
            </form>

            <!-- Sign Up Form -->
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email Address</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password (min 8 characters)" required minlength="8">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; gap: 10px; font-size: 0.9rem; cursor: pointer;">
                        <input type="checkbox" id="agreeTerms" required>
                        I agree to the <a href="#" style="color: #3498db;">Terms of Service</a> and <a href="#" style="color: #3498db;">Privacy Policy</a>
                    </label>
                </div>
                <button type="submit" class="download-btn" onclick="handleSignup(event)">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                
                <div style="margin: 20px 0; text-align: center; position: relative;">
                    <div style="border-top: 1px solid #ddd; margin: 20px 0;"></div>
                    <span style="background: white; padding: 0 15px; color: #666; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);">or sign up with</span>
                </div>
                
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <button type="button" onclick="signupWithGoogle()" style="flex: 1; padding: 12px; background: #db4437; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-google"></i> Google
                    </button>
                    <button type="button" onclick="signupWithFacebook()" style="flex: 1; padding: 12px; background: #4267B2; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-facebook-f"></i> Facebook
                    </button>
                </div>
            </form>

            <!-- Forgot Password Form -->
            <form class="auth-form" id="forgotForm">
                <div class="form-group">
                    <label for="forgotEmail">Email Address</label>
                    <input type="email" id="forgotEmail" placeholder="Enter your email address" required>
                </div>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">
                    We'll send you a link to reset your password.
                </p>
                <button type="submit" class="download-btn" onclick="handleForgotPassword(event)">
                    <i class="fas fa-paper-plane"></i> Send Reset Link
                </button>
                <div style="text-align: center; margin-top: 15px;">
                    <a href="#" onclick="switchAuthTab('login')" style="color: #3498db; text-decoration: none; font-size: 0.9rem;">Back to Login</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Features Page -->
    <div class="features-page" id="featuresPage" style="display: none; padding-top: 80px;">
        <div class="features-header" style="background: linear-gradient(135deg, #2c3e50, #3498db); color: white; padding: 60px 20px; text-align: center;">
            <h1 style="font-size: 3rem; margin-bottom: 20px; font-weight: 700;">Powerful Features</h1>
            <p style="font-size: 1.3rem; opacity: 0.9; max-width: 600px; margin: 0 auto;">Everything you need to create professional CVs that get you hired</p>
        </div>
        
        <div class="features-content" style="max-width: 1200px; margin: 0 auto; padding: 60px 20px;">
            <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 40px; margin-bottom: 60px;">
                
                <!-- Professional Templates -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #3498db, #2980b9); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-palette" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">8 Professional Templates</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">Choose from 8 expertly designed templates including ATS-optimized formats. Each template is crafted by professional designers to help you stand out and get past applicant tracking systems.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Classic - Traditional and timeless</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Modern - Two-column layout</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Creative - Colorful and unique</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Professional - Corporate style</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Premium - Sophisticated and elegant</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Executive - Premium luxury design</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Traditional - Classic and formal</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>ATS Optimized - Beats tracking systems</li>
                    </ul>
                </div>

                <!-- Live Preview -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #27ae60, #2ecc71); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-eye" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">Real-Time Live Preview</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">See your CV update instantly as you type. No waiting, no guessing - what you see is exactly what you get in your final PDF.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Instant updates as you type</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Switch templates in real-time</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Photo preview integration</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Perfect formatting guaranteed</li>
                    </ul>
                </div>

                <!-- User Authentication -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-shield-alt" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">Secure User Accounts</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">Create your personal account to track your CVs, payment history, and access your documents anytime, anywhere.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Secure login & registration</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Password reset functionality</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>7-day session management</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Personal dashboard</li>
                    </ul>
                </div>

                <!-- Payment System -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #f39c12, #e67e22); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-credit-card" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">Secure Payment Processing</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">Simple, transparent pricing at just $1 per CV. Secure payment processing with complete transaction history tracking.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>$1.00 per CV - No hidden fees</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Encrypted payment processing</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Complete payment history</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Instant receipt generation</li>
                    </ul>
                </div>

                <!-- PDF Generation -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #9b59b6, #8e44ad); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-file-pdf" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">High-Quality PDF Export</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">Generate professional PDF files that maintain perfect formatting, high-resolution images, and are ready for printing or digital sharing.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>High-resolution PDF output</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Perfect formatting preservation</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Print-ready quality</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Instant download</li>
                    </ul>
                </div>

                <!-- Dashboard & History -->
                <div class="feature-card" style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="background: linear-gradient(135deg, #1abc9c, #16a085); width: 70px; height: 70px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 25px;">
                        <i class="fas fa-tachometer-alt" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem;">Personal Dashboard</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">Access your personal dashboard to manage all your CVs, view payment history, and track your account statistics in one place.</p>
                    <ul style="color: #666; line-height: 1.8; list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>CV history & management</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Payment transaction history</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Account statistics</li>
                        <li><i class="fas fa-check" style="color: #27ae60; margin-right: 10px;"></i>Quick CV re-download</li>
                    </ul>
                </div>
            </div>

            <!-- Additional Features Section -->
            <div style="background: #f8f9fa; border-radius: 20px; padding: 50px; margin-bottom: 60px;">
                <h2 style="text-align: center; color: #2c3e50; margin-bottom: 40px; font-size: 2.2rem;">Additional Features</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                    <div style="text-align: center;">
                        <i class="fas fa-mobile-alt" style="font-size: 3rem; color: #3498db; margin-bottom: 15px;"></i>
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">Mobile Responsive</h4>
                        <p style="color: #666; font-size: 0.95rem;">Works perfectly on all devices - desktop, tablet, and mobile</p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fas fa-moon" style="font-size: 3rem; color: #3498db; margin-bottom: 15px;"></i>
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">Dark Mode</h4>
                        <p style="color: #666; font-size: 0.95rem;">Toggle between light and dark themes for comfortable viewing</p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fas fa-robot" style="font-size: 3rem; color: #3498db; margin-bottom: 15px;"></i>
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">AI Assistant</h4>
                        <p style="color: #666; font-size: 0.95rem;">Built-in chatbot to help with CV writing tips and questions</p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fas fa-camera" style="font-size: 3rem; color: #3498db; margin-bottom: 15px;"></i>
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">Photo Upload</h4>
                        <p style="color: #666; font-size: 0.95rem;">Add professional photos with automatic resizing and positioning</p>
                    </div>
                </div>
            </div>

            <!-- Privacy & Security -->
            <div style="background: linear-gradient(135deg, #2c3e50, #34495e); color: white; border-radius: 20px; padding: 50px; text-align: center;">
                <h2 style="margin-bottom: 30px; font-size: 2.2rem;">Privacy & Security First</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px;">
                    <div>
                        <i class="fas fa-lock" style="font-size: 2.5rem; margin-bottom: 15px; color: #3498db;"></i>
                        <h4 style="margin-bottom: 10px;">Data Encryption</h4>
                        <p style="opacity: 0.9; font-size: 0.95rem;">All data is encrypted using industry-standard protocols</p>
                    </div>
                    <div>
                        <i class="fas fa-trash-alt" style="font-size: 2.5rem; margin-bottom: 15px; color: #3498db;"></i>
                        <h4 style="margin-bottom: 10px;">Auto-Delete</h4>
                        <p style="opacity: 0.9; font-size: 0.95rem;">Uploaded photos and data are automatically deleted after PDF generation</p>
                    </div>
                    <div>
                        <i class="fas fa-user-shield" style="font-size: 2.5rem; margin-bottom: 15px; color: #3498db;"></i>
                        <h4 style="margin-bottom: 10px;">No Data Sharing</h4>
                        <p style="opacity: 0.9; font-size: 0.95rem;">Your personal information is never shared with third parties</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard" id="dashboard">
        <div class="dashboard-header">
            <h1>Welcome back, <span id="dashboardUserName">John</span>!</h1>
            <p>Manage your CVs, view payment history, and create new resumes</p>
        </div>
        <div class="dashboard-content">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3><i class="fas fa-file-alt"></i> My CVs</h3>
                    <div id="cvHistory">
                        <p style="text-align: center; color: #666; padding: 20px;">No CVs created yet. Click "Create New CV" to get started!</p>
                    </div>
                    <button onclick="showCVBuilder()" style="width: 100%; margin-top: 20px; padding: 12px; background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                        <i class="fas fa-plus"></i> Create New CV
                    </button>
                </div>

                <div class="dashboard-card">
                    <h3><i class="fas fa-credit-card"></i> Payment History</h3>
                    <div id="paymentHistory">
                        <p style="text-align: center; color: #666; padding: 20px;">No payments yet. Create your first CV to see payment history here.</p>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3><i class="fas fa-chart-line"></i> Account Stats</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: center;">
                        <div>
                            <div style="font-size: 2rem; font-weight: 700; color: #3498db;" id="userCVCount">0</div>
                            <div style="font-size: 0.9rem; color: #666;">CVs Created</div>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 700; color: #27ae60;" id="userTotalSpent">$0.00</div>
                            <div style="font-size: 0.9rem; color: #666;">Total Spent</div>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 700; color: #e74c3c;" id="userDaysActive">1</div>
                            <div style="font-size: 0.9rem; color: #666;">Days Active</div>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 700; color: #f39c12;">8</div>
                            <div style="font-size: 0.9rem; color: #666;">Templates</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CV Builder Container -->
    <div class="container" id="cvBuilder">
        <div class="header">
            <div class="header-content">
                <h1>CVCraft Pro</h1>
                <p>Create stunning, professional CVs in minutes with our advanced builder</p>

            </div>
        </div>
        
        <div class="main-content">
            <div class="form-section">
                <div class="template-selector">
                    <label>Choose Template:</label>
                    <div class="template-buttons">
                        <button class="template-btn active" data-template="classic">Classic</button>
                        <button class="template-btn" data-template="modern">Modern</button>
                        <button class="template-btn" data-template="creative">Creative</button>
                        <button class="template-btn" data-template="professional">Professional</button>
                        <button class="template-btn" data-template="premium">Premium</button>
                        <button class="template-btn" data-template="executive">Executive</button>
                        <button class="template-btn" data-template="traditional">Traditional</button>
                        <button class="template-btn" data-template="ats">ATS Optimized</button>
                    </div>
                </div>

                <form id="cvForm">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" placeholder="Enter your full name">
                    </div>

                    <div class="form-group">
                        <label for="contact">Contact Information</label>
                        <textarea id="contact" placeholder="Email: your.email@example.com&#10;Phone: +1 (555) 123-4567&#10;LinkedIn: linkedin.com/in/yourname&#10;Website: yourwebsite.com" style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="headline">Professional Headline</label>
                        <input type="text" id="headline" placeholder="Senior Software Developer | Full-Stack Engineer | Tech Enthusiast">
                    </div>

                    <div class="form-group">
                        <label for="photo">Profile Photo</label>
                        <input type="file" id="photo" accept="image/*" style="padding: 8px;">
                        <div id="photoPreview" style="margin-top: 10px; text-align: center;"></div>
                    </div>

                    <div class="form-group">
                        <label for="education">Education</label>
                        <textarea id="education" placeholder="Bachelor of Science in Computer Science&#10;University of Technology, 2020-2024"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="skills">Skills</label>
                        <textarea id="skills" placeholder="JavaScript, Python, React, Node.js&#10;Project Management, Team Leadership"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="experience">Work Experience</label>
                        <textarea id="experience" placeholder="Software Developer | Tech Company (2022-Present)&#10;â€¢ Developed web applications using React and Node.js&#10;â€¢ Collaborated with cross-functional teams"></textarea>
                    </div>

                    <div class="payment-section">
                        <div class="price-info">
                            <h4 style="color: #2c3e50; margin-bottom: 10px;">ðŸ’³ Generate Professional CV - $1.00</h4>
                            <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">One-time payment â€¢ Instant download â€¢ Professional quality</p>
                        </div>
                        
                        <div id="paymentForm" style="margin-bottom: 20px;">
                            <div class="form-group" style="margin-bottom: 15px;">
                                <label style="font-size: 0.9rem;">Card Number</label>
                                <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" style="padding: 10px;">
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label style="font-size: 0.9rem;">Expiry</label>
                                    <input type="text" id="cardExpiry" placeholder="MM/YY" maxlength="5" style="padding: 10px;">
                                </div>
                                <div class="form-group">
                                    <label style="font-size: 0.9rem;">CVV</label>
                                    <input type="text" id="cardCvv" placeholder="123" maxlength="3" style="padding: 10px;">
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="download-btn" onclick="processPayment()" id="payBtn">
                            ðŸ’³ Pay $1.00 & Download CV
                        </button>
                        
                        <div id="paymentSuccess" style="display: none; text-align: center; margin-top: 15px;">
                            <p style="color: #27ae60; font-weight: 600; margin-bottom: 10px;">âœ… Payment Successful!</p>
                            <button type="button" class="download-btn" onclick="downloadPDF()" style="background: #27ae60;">
                                ðŸ“„ Download Your CV Now
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="preview-section">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">Live Preview</h3>
                <div class="cv-preview" id="cvPreview">
                    <div class="template-classic" id="cvContent">
                        <div class="cv-header">
                            <img id="previewPhoto" class="cv-photo" style="display: none;">
                            <div class="cv-name" id="previewName">Your Name</div>
                            <div style="font-style: italic; margin-bottom: 10px; color: #666;" id="previewHeadline">Professional Headline</div>
                            <div class="cv-contact" id="previewContact">
                                Email: your.email@example.com<br>Phone: +1 (555) 123-4567<br>LinkedIn: linkedin.com/in/yourname
                            </div>
                        </div>

                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div id="previewEducation">Your education details will appear here</div>
                        </div>

                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div id="previewSkills">Your skills will appear here</div>
                        </div>

                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div style="background: #2c3e50; color: white; padding: 30px; text-align: center; margin-top: 40px;">
            <h3 style="margin-bottom: 20px; color: #ecf0f1;">Important Information</h3>
            
            <div style="max-width: 800px; margin: 0 auto; text-align: left; line-height: 1.6;">
                <h4 style="color: #3498db; margin-bottom: 10px;">ðŸ”’ Privacy & Data Protection</h4>
                <p style="margin-bottom: 15px; font-size: 0.95rem;">
                    â€¢ Your personal information is processed securely and never shared with third parties<br>
                    â€¢ All uploaded photos and data are automatically deleted after PDF generation<br>
                    â€¢ We use industry-standard encryption for all payment transactions
                </p>
                
                <h4 style="color: #3498db; margin-bottom: 10px;">ðŸ’³ Payment Policy</h4>
                <p style="margin-bottom: 15px; font-size: 0.95rem;">
                    â€¢ One-time payment of $1.00 allows generation of ONE CV only<br>
                    â€¢ Please ensure all information is correct before payment<br>
                    â€¢ No refunds after successful PDF generation<br>
                    â€¢ Payment is processed securely through encrypted channels
                </p>
                
                <h4 style="color: #3498db; margin-bottom: 10px;">âš ï¸ Important Notice</h4>
                <p style="margin-bottom: 20px; font-size: 0.95rem;">
                    Please double-check all your information before making payment. Each $1.00 payment allows you to generate only ONE CV. 
                    Make sure your details are complete and accurate as you cannot generate another CV with the same payment.
                </p>
                
                <div style="text-align: center; padding: 20px; background: rgba(52, 152, 219, 0.1); border-radius: 10px;">
                    <h4 style="color: #3498db; margin-bottom: 10px;">ðŸ“§ Need Help?</h4>
                    <p style="margin-bottom: 10px;">For any issues, questions, or technical support:</p>
                    <a href="mailto:tonyazer86@gmail.com" style="color: #3498db; font-weight: 600; text-decoration: none; font-size: 1.1rem;">
                        tonyazer86@gmail.com
                    </a>
                    <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                        We typically respond within 24 hours
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="chatbot-container">
        <button class="chatbot-toggle" onclick="toggleChatbot()">ðŸ’¬</button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                CV Assistant
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chatbot-message bot">
                    Hi! I'm here to help you with your CV. Ask me anything about resume writing, templates, or general questions!
                </div>
            </div>
            <div class="chatbot-input-container">
                <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Type your message..." onkeypress="handleChatbotEnter(event)">
                <button class="chatbot-send" onclick="sendChatbotMessage()">âž¤</button>
            </div>
        </div>
    </div>

    <script>
        let currentTemplate = 'classic';

        // Form inputs
        const inputs = {
            fullName: document.getElementById('fullName'),
            contact: document.getElementById('contact'),
            headline: document.getElementById('headline'),
            education: document.getElementById('education'),
            skills: document.getElementById('skills'),
            experience: document.getElementById('experience'),
            photo: document.getElementById('photo')
        };

        // Preview elements
        const preview = {
            name: document.getElementById('previewName'),
            contact: document.getElementById('previewContact'),
            headline: document.getElementById('previewHeadline'),
            education: document.getElementById('previewEducation'),
            skills: document.getElementById('previewSkills'),
            experience: document.getElementById('previewExperience')
        };

        // Template buttons
        const templateButtons = document.querySelectorAll('.template-btn');
        const cvContent = document.getElementById('cvContent');

        // Add event listeners to form inputs
        Object.keys(inputs).forEach(key => {
            if (key === 'photo') {
                inputs[key].addEventListener('change', handlePhotoUpload);
            } else {
                inputs[key].addEventListener('input', updatePreview);
            }
        });

        // Add event listeners to template buttons
        templateButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                templateButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentTemplate = btn.dataset.template;
                updateTemplate();
                updatePreview();
            });
        });

        let photoDataUrl = '';
        let paymentCompleted = false;

        // Format card number input
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
        });

        // Format expiry input
        document.getElementById('cardExpiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0,2) + '/' + value.substring(2,4);
            }
            e.target.value = value;
        });

        // Format CVV input
        document.getElementById('cardCvv').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/[^0-9]/g, '');
        });

        function processPayment() {
            const cardNumber = document.getElementById('cardNumber').value;
            const cardExpiry = document.getElementById('cardExpiry').value;
            const cardCvv = document.getElementById('cardCvv').value;
            
            // Basic validation
            if (!cardNumber || cardNumber.replace(/\s/g, '').length < 16) {
                alert('Please enter a valid card number');
                return;
            }
            
            if (!cardExpiry || cardExpiry.length < 5) {
                alert('Please enter a valid expiry date');
                return;
            }
            
            if (!cardCvv || cardCvv.length < 3) {
                alert('Please enter a valid CVV');
                return;
            }
            
            const payBtn = document.getElementById('payBtn');
            const originalText = payBtn.textContent;
            payBtn.textContent = 'ðŸ’³ Processing Payment...';
            payBtn.disabled = true;
            
            // Simulate payment processing (replace with real payment gateway)
            setTimeout(() => {
                // TODO: Replace with actual payment processing
                // This is temporary - integrate with real payment system later
                paymentCompleted = true;
                
                document.getElementById('paymentForm').style.display = 'none';
                payBtn.style.display = 'none';
                document.getElementById('paymentSuccess').style.display = 'block';
                
                alert('Payment successful! You can now download your CV.');
            }, 2000);
        }

        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    photoDataUrl = e.target.result;
                    
                    // Show preview in form
                    const photoPreview = document.getElementById('photoPreview');
                    photoPreview.innerHTML = `<img src="${photoDataUrl}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 2px solid #3498db;">`;
                    
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        function updatePreview() {
            const name = inputs.fullName.value || 'Your Name';
            const contact = inputs.contact.value || 'Email: your.email@example.com\nPhone: +1 (555) 123-4567\nLinkedIn: linkedin.com/in/yourname';
            const headline = inputs.headline.value || 'Professional Headline';
            const education = inputs.education.value || 'Your education details will appear here';
            const skills = inputs.skills.value || 'Your skills will appear here';
            const experience = inputs.experience.value || 'Your work experience will appear here';

            preview.name.textContent = name;
            preview.contact.innerHTML = contact.replace(/\n/g, '<br>');
            if (preview.headline) preview.headline.textContent = headline;
            preview.education.innerHTML = education.replace(/\n/g, '<br>');
            preview.skills.innerHTML = skills.replace(/\n/g, '<br>');
            preview.experience.innerHTML = experience.replace(/\n/g, '<br>');

            // Update photo
            const photoElement = document.getElementById('previewPhoto');
            if (photoElement) {
                if (photoDataUrl) {
                    photoElement.src = photoDataUrl;
                    photoElement.style.display = 'block';
                } else {
                    photoElement.style.display = 'none';
                }
            }
        }

        function updateTemplate() {
            cvContent.className = `template-${currentTemplate}`;
            
            if (currentTemplate === 'executive') {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div class="cv-contact" id="previewContact">
                            <span id="previewEmail">your.email@example.com</span> | 
                            <span id="previewPhone">+1 (555) 123-4567</span>
                        </div>
                    </div>
                    <div class="cv-body">
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div id="previewEducation">Your education details will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div id="previewSkills">Your skills will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                `;
            } else if (currentTemplate === 'traditional') {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div class="cv-contact" id="previewContact">
                            <span id="previewEmail">your.email@example.com</span> | 
                            <span id="previewPhone">+1 (555) 123-4567</span>
                        </div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Education</div>
                        <div class="cv-section-content" id="previewEducation">Your education details will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Skills</div>
                        <div class="cv-section-content" id="previewSkills">Your skills will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Experience</div>
                        <div class="cv-section-content" id="previewExperience">Your work experience will appear here</div>
                    </div>
                `;
            } else if (currentTemplate === 'ats') {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div class="cv-contact" id="previewContact">
                            <span id="previewEmail">your.email@example.com</span> | 
                            <span id="previewPhone">+1 (555) 123-4567</span>
                        </div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Education</div>
                        <div class="cv-section-content" id="previewEducation">Your education details will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Skills</div>
                        <div class="cv-section-content" id="previewSkills">Your skills will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Experience</div>
                        <div class="cv-section-content" id="previewExperience">Your work experience will appear here</div>
                    </div>
                `;
            } else if (currentTemplate === 'professional') {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-header-text">
                            <div class="cv-name" id="previewName">Your Name</div>
                            <div class="cv-contact" id="previewContact">
                                <span id="previewEmail">your.email@example.com</span> | 
                                <span id="previewPhone">+1 (555) 123-4567</span>
                            </div>
                        </div>
                    </div>
                    <div class="cv-body">
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div id="previewEducation">Your education details will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div id="previewSkills">Your skills will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                `;
            } else if (currentTemplate === 'premium') {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div class="cv-contact" id="previewContact">
                            <span id="previewEmail">your.email@example.com</span> | 
                            <span id="previewPhone">+1 (555) 123-4567</span>
                        </div>
                    </div>
                    <div class="cv-body">
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div class="cv-section-content" id="previewEducation">Your education details will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div class="cv-section-content" id="previewSkills">Your skills will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div class="cv-section-content" id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                `;
            } else if (currentTemplate === 'modern') {
                cvContent.innerHTML = `
                    <div class="cv-sidebar">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div class="cv-contact" id="previewContact">
                            <div id="previewEmail">your.email@example.com</div>
                            <div id="previewPhone">+1 (555) 123-4567</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div id="previewSkills">Your skills will appear here</div>
                        </div>
                    </div>
                    <div class="cv-main">
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div id="previewEducation">Your education details will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                `;
            } else if (currentTemplate === 'creative') {
                cvContent.innerHTML = `
                    <div class="cv-content">
                        <div class="cv-header">
                            <img id="previewPhoto" class="cv-photo" style="display: none;">
                            <div class="cv-name" id="previewName">Your Name</div>
                            <div class="cv-contact" id="previewContact">
                                <span id="previewEmail">your.email@example.com</span> | 
                                <span id="previewPhone">+1 (555) 123-4567</span>
                            </div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Education</div>
                            <div id="previewEducation">Your education details will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Skills</div>
                            <div id="previewSkills">Your skills will appear here</div>
                        </div>
                        <div class="cv-section">
                            <div class="cv-section-title">Experience</div>
                            <div id="previewExperience">Your work experience will appear here</div>
                        </div>
                    </div>
                `;
            } else {
                cvContent.innerHTML = `
                    <div class="cv-header">
                        <img id="previewPhoto" class="cv-photo" style="display: none;">
                        <div class="cv-name" id="previewName">Your Name</div>
                        <div style="font-style: italic; margin-bottom: 10px; color: #666;" id="previewHeadline">Professional Headline</div>
                        <div class="cv-contact" id="previewContact">
                            Email: your.email@example.com<br>Phone: +1 (555) 123-4567<br>LinkedIn: linkedin.com/in/yourname
                        </div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Education</div>
                        <div id="previewEducation">Your education details will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Skills</div>
                        <div id="previewSkills">Your skills will appear here</div>
                    </div>
                    <div class="cv-section">
                        <div class="cv-section-title">Experience</div>
                        <div id="previewExperience">Your work experience will appear here</div>
                    </div>
                `;
            }

            // Re-assign preview elements after template change
            preview.name = document.getElementById('previewName');
            preview.email = document.getElementById('previewEmail');
            preview.phone = document.getElementById('previewPhone');
            preview.contact = document.getElementById('previewContact');
            preview.education = document.getElementById('previewEducation');
            preview.skills = document.getElementById('previewSkills');
            preview.experience = document.getElementById('previewExperience');
        }

        function downloadPDF() {
            if (!paymentCompleted) {
                alert('Please complete payment first to download your CV.');
                return;
            }
            
            const element = document.getElementById('cvPreview');
            const name = inputs.fullName.value || 'CV';
            
            const downloadBtn = document.querySelector('.download-btn');
            const originalText = downloadBtn.textContent;
            downloadBtn.textContent = 'ðŸ“„ Generating PDF...';
            downloadBtn.disabled = true;

            // Ensure photo is properly set before PDF generation
            const photoElement = document.getElementById('previewPhoto');
            if (photoElement && photoDataUrl) {
                photoElement.src = photoDataUrl;
                photoElement.style.display = 'block';
                photoElement.crossOrigin = 'anonymous';
            }

            const opt = {
                margin: 0.5,
                filename: `${name.replace(/\s+/g, '_')}_CV.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { 
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    onclone: function(clonedDoc) {
                        // Ensure photo is set in cloned document
                        const clonedPhoto = clonedDoc.querySelector('#previewPhoto');
                        if (clonedPhoto && photoDataUrl) {
                            clonedPhoto.src = photoDataUrl;
                            clonedPhoto.style.display = 'block';
                            clonedPhoto.crossOrigin = 'anonymous';
                        }
                    }
                },
                jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
            };

            // Wait a moment for image to load, then generate PDF
            setTimeout(() => {
                html2pdf().set(opt).from(element).save().then(() => {
                    downloadBtn.textContent = originalText;
                    downloadBtn.disabled = false;
                }).catch((error) => {
                    console.error('PDF generation failed:', error);
                    downloadBtn.textContent = originalText;
                    downloadBtn.disabled = false;
                    alert('PDF generation failed. Please try again.');
                });
            }, 500);
        }

        // Theme toggle functionality
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                themeToggle.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'dark');
            } else {
                themeToggle.textContent = 'ðŸŒ™';
                localStorage.setItem('theme', 'light');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (savedTheme === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.textContent = 'â˜€ï¸';
            } else {
                themeToggle.textContent = 'ðŸŒ™';
            }
        }

        // Chatbot functionality
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            chatbotWindow.style.display = chatbotWindow.style.display === 'flex' ? 'none' : 'flex';
        }

        function handleChatbotEnter(event) {
            if (event.key === 'Enter') {
                sendChatbotMessage();
            }
        }

        function sendChatbotMessage() {
            const input = document.getElementById('chatbotInput');
            const messagesContainer = document.getElementById('chatbotMessages');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'chatbot-message user';
            userMessage.textContent = message;
            messagesContainer.appendChild(userMessage);
            
            // Clear input
            input.value = '';
            
            // Generate bot response
            setTimeout(() => {
                const botMessage = document.createElement('div');
                botMessage.className = 'chatbot-message bot';
                botMessage.innerHTML = generateBotResponse(message);
                messagesContainer.appendChild(botMessage);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateBotResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            
            // Privacy related questions
            if (msg.includes('privacy') || msg.includes('data') || msg.includes('secure') || msg.includes('safe')) {
                return "ðŸ”’ Your privacy is our priority! We use industry-standard encryption, never share your data with third parties, and automatically delete all uploaded information after PDF generation. Your personal details are processed securely and stored temporarily only during the CV creation process.";
            }
            
            // Payment related questions
            if (msg.includes('payment') || msg.includes('pay') || msg.includes('cost') || msg.includes('price') || msg.includes('refund')) {
                return "ðŸ’³ Our service costs $1.00 for one CV generation. Payment is processed securely through encrypted channels. Please note: each payment allows ONE CV download only, and refunds aren't available after successful PDF generation. Make sure your information is complete before paying!";
            }
            
            // Template questions
            if (msg.includes('template') || msg.includes('design') || msg.includes('style')) {
                return "ðŸŽ¨ We offer 5 professional templates: Classic (traditional), Modern (two-column), Creative (colorful gradient), Professional (corporate with photo), and Minimal (clean & simple). Each template is fully responsive and designed by professionals. You can switch between them anytime before payment!";
            }
            
            // CV writing tips
            if (msg.includes('tips') || msg.includes('help') || msg.includes('advice') || msg.includes('write') || msg.includes('resume')) {
                return "âœï¸ CV Writing Tips:<br>â€¢ Keep it concise (1-2 pages max)<br>â€¢ Use action verbs (developed, managed, created)<br>â€¢ Quantify achievements with numbers<br>â€¢ Tailor skills to the job you want<br>â€¢ Include relevant keywords<br>â€¢ Proofread carefully for errors<br>â€¢ Use a professional email address";
            }
            
            // Technical questions
            if (msg.includes('download') || msg.includes('pdf') || msg.includes('format') || msg.includes('file')) {
                return "ðŸ“„ After payment, you'll get a high-quality PDF file that's perfect for printing or digital sharing. The PDF maintains all formatting and is compatible with all devices. Download happens instantly after successful payment!";
            }
            
            // Photo questions
            if (msg.includes('photo') || msg.includes('picture') || msg.includes('image')) {
                return "ðŸ“¸ You can upload a professional headshot in JPG, PNG, or other common formats. The photo will be automatically resized and positioned perfectly in your chosen template. For best results, use a clear, professional photo with good lighting!";
            }
            
            // Contact questions
            if (msg.includes('contact') || msg.includes('support') || msg.includes('help') || msg.includes('problem')) {
                return "ðŸ“§ For any technical issues, questions, or support needs, please contact our developer directly at <strong>tonyazer86@gmail.com</strong>. We typically respond within 24 hours and are happy to help with any concerns!";
            }
            
            // Greeting responses
            if (msg.includes('hello') || msg.includes('hi') || msg.includes('hey') || msg.includes('good')) {
                return "ðŸ‘‹ Hello! I'm here to help you create an amazing CV. I can answer questions about our templates, payment process, privacy policy, or give you CV writing tips. What would you like to know?";
            }
            
            // Thank you responses
            if (msg.includes('thank') || msg.includes('thanks')) {
                return "ðŸ˜Š You're very welcome! I'm glad I could help. If you have any other questions about creating your CV, feel free to ask anytime!";
            }
            
            // Default response for unrecognized questions
            return `ðŸ¤” I'm not sure about that specific question, but I'd be happy to help! I can assist with:<br><br>â€¢ CV writing tips and advice<br>â€¢ Template information<br>â€¢ Payment and pricing details<br>â€¢ Privacy and security questions<br>â€¢ Technical support<br><br>For anything else, please contact our developer directly at <strong>tonyazer86@gmail.com</strong> - they'll be able to give you a detailed answer within 24 hours!`;
        }

        // Authentication System
        let currentUser = null;
        let userDatabase = JSON.parse(localStorage.getItem('cvcraft_users') || '{}');
        let userSessions = JSON.parse(localStorage.getItem('cvcraft_sessions') || '{}');

        // Check if user is logged in on page load
        function checkAuthStatus() {
            const sessionToken = localStorage.getItem('cvcraft_session');
            if (sessionToken && userSessions[sessionToken]) {
                const userData = userSessions[sessionToken];
                if (userData.expires > Date.now()) {
                    currentUser = userData;
                    showUserInterface();
                    return true;
                }
            }
            showGuestInterface();
            return false;
        }

        function showUserInterface() {
            document.getElementById('authButtons').style.display = 'none';
            document.getElementById('userMenu').style.display = 'block';
            document.getElementById('userAvatar').textContent = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
            document.getElementById('dashboardUserName').textContent = currentUser.name;
            showDashboard();
        }

        function showGuestInterface() {
            document.getElementById('authButtons').style.display = 'flex';
            document.getElementById('userMenu').style.display = 'none';
            showCVBuilder();
        }

        function showAuthModal(type) {
            const modal = document.getElementById('authModal');
            modal.classList.add('active');
            switchAuthTab(type);
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.remove('active');
        }

        function switchAuthTab(type) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
            
            if (type === 'login') {
                document.querySelector('.auth-tab:first-child').classList.add('active');
                document.getElementById('loginForm').classList.add('active');
                document.getElementById('modalTitle').textContent = 'Welcome Back!';
                document.getElementById('modalSubtitle').textContent = 'Sign in to access your dashboard';
            } else if (type === 'signup') {
                document.querySelector('.auth-tab:last-child').classList.add('active');
                document.getElementById('signupForm').classList.add('active');
                document.getElementById('modalTitle').textContent = 'Join CVCraft Pro';
                document.getElementById('modalSubtitle').textContent = 'Create your account in seconds';
            }
        }

        function showForgotPassword() {
            document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
            document.getElementById('forgotForm').classList.add('active');
            document.getElementById('modalTitle').textContent = 'Reset Password';
            document.getElementById('modalSubtitle').textContent = 'Enter your email to receive reset instructions';
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (userDatabase[email] && userDatabase[email].password === password) {
                // Create session
                const sessionToken = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                const sessionData = {
                    ...userDatabase[email],
                    expires: Date.now() + (7 * 24 * 60 * 60 * 1000) // 7 days
                };
                
                userSessions[sessionToken] = sessionData;
                localStorage.setItem('cvcraft_sessions', JSON.stringify(userSessions));
                localStorage.setItem('cvcraft_session', sessionToken);
                
                currentUser = sessionData;
                closeAuthModal();
                showUserInterface();
                
                // Show success message
                showNotification('Welcome back! Login successful.', 'success');
            } else {
                showNotification('Invalid email or password. Please try again.', 'error');
            }
        }

        function handleSignup(event) {
            event.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            
            // Validation
            if (password !== confirmPassword) {
                showNotification('Passwords do not match!', 'error');
                return;
            }
            
            if (!agreeTerms) {
                showNotification('Please agree to the Terms of Service and Privacy Policy.', 'error');
                return;
            }
            
            if (userDatabase[email]) {
                showNotification('An account with this email already exists.', 'error');
                return;
            }
            
            // Create user
            const userData = {
                name: name,
                email: email,
                password: password, // In real app, this would be hashed
                createdAt: Date.now(),
                cvHistory: [],
                paymentHistory: []
            };
            
            userDatabase[email] = userData;
            localStorage.setItem('cvcraft_users', JSON.stringify(userDatabase));
            
            // Auto login
            const sessionToken = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            const sessionData = {
                ...userData,
                expires: Date.now() + (7 * 24 * 60 * 60 * 1000)
            };
            
            userSessions[sessionToken] = sessionData;
            localStorage.setItem('cvcraft_sessions', JSON.stringify(userSessions));
            localStorage.setItem('cvcraft_session', sessionToken);
            
            currentUser = sessionData;
            closeAuthModal();
            showUserInterface();
            
            showNotification('Account created successfully! Welcome to CVCraft Pro.', 'success');
        }

        function handleForgotPassword(event) {
            event.preventDefault();
            const email = document.getElementById('forgotEmail').value;
            
            if (userDatabase[email]) {
                // In a real app, this would send an actual email
                showNotification('Password reset link sent to your email!', 'success');
                setTimeout(() => {
                    switchAuthTab('login');
                }, 2000);
            } else {
                showNotification('No account found with this email address.', 'error');
            }
        }

        function logout() {
            const sessionToken = localStorage.getItem('cvcraft_session');
            if (sessionToken) {
                delete userSessions[sessionToken];
                localStorage.setItem('cvcraft_sessions', JSON.stringify(userSessions));
                localStorage.removeItem('cvcraft_session');
            }
            
            currentUser = null;
            showGuestInterface();
            showNotification('Logged out successfully!', 'success');
        }

        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('userMenu');
            const dropdown = document.getElementById('userDropdown');
            if (!userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });

        // Navigation functions
        function showHome() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('cvBuilder').classList.remove('active');
            document.getElementById('featuresPage').style.display = 'none';
            // In a real app, this would show a home page
            if (currentUser) {
                showDashboard();
            } else {
                showCVBuilder();
            }
        }

        function showDashboard() {
            document.getElementById('dashboard').classList.add('active');
            document.getElementById('cvBuilder').classList.remove('active');
            document.getElementById('featuresPage').style.display = 'none';
            loadUserData();
        }

        function showCVBuilder() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('cvBuilder').classList.add('active');
            document.getElementById('featuresPage').style.display = 'none';
        }

        function showFeatures() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('cvBuilder').classList.remove('active');
            document.getElementById('featuresPage').style.display = 'block';
        }

        function showProfile() {
            showNotification('Profile settings coming soon!', 'info');
        }

        function showSettings() {
            showNotification('Settings page coming soon!', 'info');
        }

        function loadUserData() {
            if (!currentUser) return;
            
            // Update dashboard with user data
            const user = userDatabase[currentUser.email];
            if (user) {
                document.getElementById('dashboardUserName').textContent = user.name;
                
                // Update CV history
                const cvHistoryContainer = document.getElementById('cvHistory');
                if (user.cvHistory && user.cvHistory.length > 0) {
                    cvHistoryContainer.innerHTML = user.cvHistory.map(cv => `
                        <div class="cv-history-item">
                            <div>
                                <strong>${cv.name}</strong>
                                <div style="font-size: 0.9rem; color: #666;">Created: ${new Date(cv.createdAt).toLocaleDateString()}</div>
                            </div>
                            <div>
                                <span class="status-badge status-success">Completed</span>
                                <button onclick="downloadCV('${cv.id}')" style="margin-left: 10px; padding: 5px 10px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                        </div>
                    `).join('');
                } else {
                    cvHistoryContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No CVs created yet. Click "Create New CV" to get started!</p>';
                }
                
                // Update payment history
                const paymentHistoryContainer = document.getElementById('paymentHistory');
                if (user.paymentHistory && user.paymentHistory.length > 0) {
                    paymentHistoryContainer.innerHTML = user.paymentHistory.map(payment => `
                        <div class="payment-history-item">
                            <div>
                                <strong>CV Generation</strong>
                                <div style="font-size: 0.9rem; color: #666;">${new Date(payment.date).toLocaleString()}</div>
                            </div>
                            <div>
                                <strong style="color: #27ae60;">$${payment.amount}</strong>
                                <span class="status-badge status-success">Paid</span>
                            </div>
                        </div>
                    `).join('');
                } else {
                    paymentHistoryContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">No payments yet. Create your first CV to see payment history here.</p>';
                }

                // Update account statistics with real data
                const cvCount = user.cvHistory ? user.cvHistory.length : 0;
                const totalSpent = user.paymentHistory ? user.paymentHistory.reduce((sum, payment) => sum + parseFloat(payment.amount), 0).toFixed(2) : '0.00';
                const daysActive = Math.ceil((Date.now() - user.createdAt) / (1000 * 60 * 60 * 24));
                
                document.getElementById('userCVCount').textContent = cvCount;
                document.getElementById('userTotalSpent').textContent = `$${totalSpent}`;
                document.getElementById('userDaysActive').textContent = daysActive;
            }
        }

        function downloadCV(cvId) {
            showNotification('CV download started!', 'success');
            // In a real app, this would download the actual CV file
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#3498db'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 3000;
                font-weight: 600;
                max-width: 300px;
                word-wrap: break-word;
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Add CSS for notification animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Enhanced payment processing with user tracking
        function processPayment() {
            if (!currentUser) {
                showNotification('Please login to make a payment.', 'error');
                showAuthModal('login');
                return;
            }
            
            const cardNumber = document.getElementById('cardNumber').value;
            const cardExpiry = document.getElementById('cardExpiry').value;
            const cardCvv = document.getElementById('cardCvv').value;
            
            // Basic validation
            if (!cardNumber || cardNumber.replace(/\s/g, '').length < 16) {
                showNotification('Please enter a valid card number', 'error');
                return;
            }
            
            if (!cardExpiry || cardExpiry.length < 5) {
                showNotification('Please enter a valid expiry date', 'error');
                return;
            }
            
            if (!cardCvv || cardCvv.length < 3) {
                showNotification('Please enter a valid CVV', 'error');
                return;
            }
            
            const payBtn = document.getElementById('payBtn');
            const originalText = payBtn.textContent;
            payBtn.textContent = 'ðŸ’³ Processing Payment...';
            payBtn.disabled = true;
            
            setTimeout(() => {
                paymentCompleted = true;
                
                // Add payment to user history
                const user = userDatabase[currentUser.email];
                if (!user.paymentHistory) user.paymentHistory = [];
                user.paymentHistory.push({
                    id: 'payment_' + Date.now(),
                    amount: '1.00',
                    date: Date.now(),
                    status: 'completed'
                });
                
                // Save to localStorage
                localStorage.setItem('cvcraft_users', JSON.stringify(userDatabase));
                
                document.getElementById('paymentForm').style.display = 'none';
                payBtn.style.display = 'none';
                document.getElementById('paymentSuccess').style.display = 'block';
                
                showNotification('Payment successful! You can now download your CV.', 'success');
            }, 2000);
        }

        // Enhanced download with user tracking
        function downloadPDF() {
            if (!paymentCompleted) {
                showNotification('Please complete payment first to download your CV.', 'error');
                return;
            }
            
            const element = document.getElementById('cvPreview');
            const name = inputs.fullName.value || 'CV';
            
            const downloadBtn = document.querySelector('.download-btn');
            const originalText = downloadBtn.textContent;
            downloadBtn.textContent = 'ðŸ“„ Generating PDF...';
            downloadBtn.disabled = true;

            // Ensure photo is properly set before PDF generation
            const photoElement = document.getElementById('previewPhoto');
            if (photoElement && photoDataUrl) {
                photoElement.src = photoDataUrl;
                photoElement.style.display = 'block';
                photoElement.crossOrigin = 'anonymous';
            }

            const opt = {
                margin: 0.5,
                filename: `${name.replace(/\s+/g, '_')}_CV.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { 
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    onclone: function(clonedDoc) {
                        const clonedPhoto = clonedDoc.querySelector('#previewPhoto');
                        if (clonedPhoto && photoDataUrl) {
                            clonedPhoto.src = photoDataUrl;
                            clonedPhoto.style.display = 'block';
                            clonedPhoto.crossOrigin = 'anonymous';
                        }
                    }
                },
                jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
            };

            setTimeout(() => {
                html2pdf().set(opt).from(element).save().then(() => {
                    downloadBtn.textContent = originalText;
                    downloadBtn.disabled = false;
                    
                    // Add CV to user history if logged in
                    if (currentUser) {
                        const user = userDatabase[currentUser.email];
                        if (!user.cvHistory) user.cvHistory = [];
                        user.cvHistory.push({
                            id: 'cv_' + Date.now(),
                            name: name + ' CV',
                            template: currentTemplate,
                            createdAt: Date.now()
                        });
                        localStorage.setItem('cvcraft_users', JSON.stringify(userDatabase));
                    }
                    
                    showNotification('CV downloaded successfully!', 'success');
                }).catch((error) => {
                    console.error('PDF generation failed:', error);
                    downloadBtn.textContent = originalText;
                    downloadBtn.disabled = false;
                    showNotification('PDF generation failed. Please try again.', 'error');
                });
            }, 500);
        }

        // Social Login Functions
        function loginWithGoogle() {
            // Simulate Google OAuth flow
            showNotification('Google login integration coming soon! Please use email login for now.', 'info');
            // In a real implementation, this would redirect to Google OAuth
            // window.location.href = 'https://accounts.google.com/oauth/authorize?...';
        }

        function loginWithFacebook() {
            // Simulate Facebook OAuth flow
            showNotification('Facebook login integration coming soon! Please use email login for now.', 'info');
            // In a real implementation, this would use Facebook SDK
            // FB.login(function(response) { ... });
        }

        function signupWithGoogle() {
            // Simulate Google OAuth flow for signup
            showNotification('Google signup integration coming soon! Please use email signup for now.', 'info');
        }

        function signupWithFacebook() {
            // Simulate Facebook OAuth flow for signup
            showNotification('Facebook signup integration coming soon! Please use email signup for now.', 'info');
        }

        // Initialize everything
        loadTheme();
        updatePreview();
        checkAuthStatus();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96b1df23031a2b24',t:'MTc1NDUxODMwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
